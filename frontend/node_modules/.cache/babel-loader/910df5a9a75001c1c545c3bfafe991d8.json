{"ast":null,"code":"import _classCallCheck from\"/home/n/React/I_Fucked_Something_Up/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/n/React/I_Fucked_Something_Up/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/n/React/I_Fucked_Something_Up/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/n/React/I_Fucked_Something_Up/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import socketIOClient from'socket.io-client';var socket=socketIOClient(ENDPOINT);var ENDPOINT=\"http://localhost:3001\";var chatHistory=[];var Chat=/*#__PURE__*/function(_React$Component){_inherits(Chat,_React$Component);var _super=_createSuper(Chat);function Chat(){var _this;_classCallCheck(this,Chat);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSubmit=function(event,username){event.preventDefault();var message=document.getElementById('message-input').value;chatHistory.push(/*#__PURE__*/React.createElement(\"div\",null,username,\": \",message));socket.emit('send-chat-message',message);document.getElementById('message-input').value='';};return _this;}_createClass(Chat,[{key:\"componentDidMount\",value:function componentDidMount(){socket.emit('new-user',username);socket.on('chat-message',function(data){chatHistory.push(/*#__PURE__*/React.createElement(\"div\",null,data.username,\": \",data.message));});socket.on('user-connected',function(username){chatHistory.push(/*#__PURE__*/React.createElement(\"div\",null,username,\" connected\"));});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"message-container\"},chatHistory),/*#__PURE__*/React.createElement(\"form\",{id:\"send-container\",onSubmit:function onSubmit(event){return handleSubmit(event,username);}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"message-input\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"send-button\"},\"Send\")));}}]);return Chat;}(React.Component({username:username}));export default Chat;","map":{"version":3,"sources":["/home/n/React/I_Fucked_Something_Up/frontend/src/ChatPage/Chat.js"],"names":["React","socketIOClient","socket","ENDPOINT","chatHistory","Chat","handleSubmit","event","username","preventDefault","message","document","getElementById","value","push","emit","on","data","Component"],"mappings":"4nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,MAAM,CAAGD,cAAc,CAACE,QAAD,CAA7B,CACA,GAAMA,CAAAA,QAAQ,CAAG,uBAAjB,CACA,GAAIC,CAAAA,WAAW,CAAG,EAAlB,C,GAEMC,CAAAA,I,+TAcFC,Y,CAAe,SAACC,KAAD,CAAQC,QAAR,CAAqB,CAChCD,KAAK,CAACE,cAAN,GACA,GAAMC,CAAAA,OAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzD,CACAT,WAAW,CAACU,IAAZ,cAAiB,+BAAMN,QAAN,MAAkBE,OAAlB,CAAjB,EACAR,MAAM,CAACa,IAAP,CAAY,mBAAZ,CAAiCL,OAAjC,EACAC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC,CAAiD,EAAjD,CACH,C,6FAlBmB,CAChBX,MAAM,CAACa,IAAP,CAAY,UAAZ,CAAwBP,QAAxB,EAEAN,MAAM,CAACc,EAAP,CAAU,cAAV,CAA0B,SAAAC,IAAI,CAAI,CAC9Bb,WAAW,CAACU,IAAZ,cAAiB,+BAAMG,IAAI,CAACT,QAAX,MAAuBS,IAAI,CAACP,OAA5B,CAAjB,EACH,CAFD,EAIAR,MAAM,CAACc,EAAP,CAAU,gBAAV,CAA4B,SAAAR,QAAQ,CAAI,CACpCJ,WAAW,CAACU,IAAZ,cAAiB,+BAAMN,QAAN,cAAjB,EACH,CAFD,EAGH,C,uCAWQ,CACL,mBACI,4CACI,2BAAK,EAAE,CAAC,mBAAR,EAA6BJ,WAA7B,CADJ,cAEI,4BAAM,EAAE,CAAC,gBAAT,CAA0B,QAAQ,CAAE,kBAACG,KAAD,QAAWD,CAAAA,YAAY,CAACC,KAAD,CAAQC,QAAR,CAAvB,EAApC,eACI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,eAAtB,EADJ,cAEI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAC,aAAzB,SAFJ,CAFJ,CADJ,CASH,C,kBAjCcR,KAAK,CAACkB,SAAN,CAAgB,CAAEV,QAAQ,CAARA,QAAF,CAAhB,C,EAsCnB,cAAeH,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport socketIOClient from 'socket.io-client';\n\nconst socket = socketIOClient(ENDPOINT);\nconst ENDPOINT = \"http://localhost:3001\";\nlet chatHistory = [];\n\nclass Chat extends React.Component({ username }) {\n\n    componentDidMount() {\n        socket.emit('new-user', username);\n\n        socket.on('chat-message', data => {\n            chatHistory.push(<div>{data.username}: {data.message}</div>);\n        });\n    \n        socket.on('user-connected', username => {\n            chatHistory.push(<div>{username} connected</div>);\n        });\n    }\n\n    handleSubmit = (event, username) => {\n        event.preventDefault();\n        const message = document.getElementById('message-input').value;\n        chatHistory.push(<div>{username}: {message}</div>);\n        socket.emit('send-chat-message', message);\n        document.getElementById('message-input').value = '';\n    }\n\n\n    render() {\n        return (\n            <div>\n                <div id=\"message-container\">{chatHistory}</div>\n                <form id=\"send-container\" onSubmit={(event) => handleSubmit(event, username)}>\n                    <input type=\"text\" id=\"message-input\"></input>\n                    <button type=\"submit\" id=\"send-button\">Send</button>\n                </form>\n            </div>\n        )\n    }\n\n\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}