{"ast":null,"code":"\"use strict\";\n\nmodule.exports = exports;\n\nvar url = require('url');\n\nvar URI_REGEX = \"^(.*)\\.(s3(?:-.*)?)\\.amazonaws\\.com$\";\n\nmodule.exports.detect = function (to, config) {\n  var uri = url.parse(to);\n  var hostname_matches = uri.hostname.match(URI_REGEX);\n  config.prefix = !uri.pathname || uri.pathname == '/' ? '' : uri.pathname.replace('/', '');\n\n  if (!hostname_matches) {\n    return;\n  }\n\n  if (!config.bucket) {\n    config.bucket = hostname_matches[1];\n  }\n\n  if (!config.region) {\n    var s3_domain = hostname_matches[2];\n\n    if (s3_domain.slice(0, 3) == 's3-' && s3_domain.length >= 3) {\n      // it appears the region is explicit in the url\n      config.region = s3_domain.replace('s3-', '');\n    }\n  }\n};","map":{"version":3,"sources":["/home/n/React/loginpagedemo/frontend/node_modules/node-pre-gyp/lib/util/s3_setup.js"],"names":["module","exports","url","require","URI_REGEX","detect","to","config","uri","parse","hostname_matches","hostname","match","prefix","pathname","replace","bucket","region","s3_domain","slice","length"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiBA,OAAjB;;AAEA,IAAIC,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAjB;;AAEA,IAAIC,SAAS,GAAC,sCAAd;;AAEAJ,MAAM,CAACC,OAAP,CAAeI,MAAf,GAAwB,UAASC,EAAT,EAAYC,MAAZ,EAAoB;AACxC,MAAIC,GAAG,GAAGN,GAAG,CAACO,KAAJ,CAAUH,EAAV,CAAV;AACA,MAAII,gBAAgB,GAAGF,GAAG,CAACG,QAAJ,CAAaC,KAAb,CAAmBR,SAAnB,CAAvB;AACAG,EAAAA,MAAM,CAACM,MAAP,GAAiB,CAACL,GAAG,CAACM,QAAL,IAAiBN,GAAG,CAACM,QAAJ,IAAgB,GAAlC,GAAyC,EAAzC,GAA8CN,GAAG,CAACM,QAAJ,CAAaC,OAAb,CAAqB,GAArB,EAAyB,EAAzB,CAA9D;;AACA,MAAG,CAACL,gBAAJ,EAAsB;AAClB;AACH;;AACD,MAAI,CAACH,MAAM,CAACS,MAAZ,EAAoB;AAChBT,IAAAA,MAAM,CAACS,MAAP,GAAgBN,gBAAgB,CAAC,CAAD,CAAhC;AACH;;AACD,MAAI,CAACH,MAAM,CAACU,MAAZ,EAAoB;AAChB,QAAIC,SAAS,GAAGR,gBAAgB,CAAC,CAAD,CAAhC;;AACA,QAAIQ,SAAS,CAACC,KAAV,CAAgB,CAAhB,EAAkB,CAAlB,KAAwB,KAAxB,IACAD,SAAS,CAACE,MAAV,IAAoB,CADxB,EAC2B;AACvB;AACAb,MAAAA,MAAM,CAACU,MAAP,GAAgBC,SAAS,CAACH,OAAV,CAAkB,KAAlB,EAAwB,EAAxB,CAAhB;AACH;AACJ;AACJ,CAlBD","sourcesContent":["\"use strict\";\n\nmodule.exports = exports;\n\nvar url = require('url');\n\nvar URI_REGEX=\"^(.*)\\.(s3(?:-.*)?)\\.amazonaws\\.com$\";\n\nmodule.exports.detect = function(to,config) {\n    var uri = url.parse(to);\n    var hostname_matches = uri.hostname.match(URI_REGEX);\n    config.prefix = (!uri.pathname || uri.pathname == '/') ? '' : uri.pathname.replace('/','');\n    if(!hostname_matches) {\n        return;\n    }\n    if (!config.bucket) {\n        config.bucket = hostname_matches[1];\n    }\n    if (!config.region) {\n        var s3_domain = hostname_matches[2];\n        if (s3_domain.slice(0,3) == 's3-' &&\n            s3_domain.length >= 3) {\n            // it appears the region is explicit in the url\n            config.region = s3_domain.replace('s3-','');\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"script"}