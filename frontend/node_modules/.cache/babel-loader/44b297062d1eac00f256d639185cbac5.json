{"ast":null,"code":"'use strict';\n\nconst log = require('npmlog');\n\nconst execFile = require('child_process').execFile;\n\nconst path = require('path');\n\nfunction logWithPrefix(log, prefix) {\n  function setPrefix(logFunction) {\n    return (...args) => logFunction.apply(null, [prefix, ...args]); // eslint-disable-line\n  }\n\n  return {\n    silly: setPrefix(log.silly),\n    verbose: setPrefix(log.verbose),\n    info: setPrefix(log.info),\n    warn: setPrefix(log.warn),\n    error: setPrefix(log.error)\n  };\n}\n\nfunction regGetValue(key, value, addOpts, cb) {\n  const outReValue = value.replace(/\\W/g, '.');\n  const outRe = new RegExp(`^\\\\s+${outReValue}\\\\s+REG_\\\\w+\\\\s+(\\\\S.*)$`, 'im');\n  const reg = path.join(process.env.SystemRoot, 'System32', 'reg.exe');\n  const regArgs = ['query', key, '/v', value].concat(addOpts);\n  log.silly('reg', 'running', reg, regArgs);\n  const child = execFile(reg, regArgs, {\n    encoding: 'utf8'\n  }, function (err, stdout, stderr) {\n    log.silly('reg', 'reg.exe stdout = %j', stdout);\n\n    if (err || stderr.trim() !== '') {\n      log.silly('reg', 'reg.exe err = %j', err && (err.stack || err));\n      log.silly('reg', 'reg.exe stderr = %j', stderr);\n      return cb(err, stderr);\n    }\n\n    const result = outRe.exec(stdout);\n\n    if (!result) {\n      log.silly('reg', 'error parsing stdout');\n      return cb(new Error('Could not parse output of reg.exe'));\n    }\n\n    log.silly('reg', 'found: %j', result[1]);\n    cb(null, result[1]);\n  });\n  child.stdin.end();\n}\n\nfunction regSearchKeys(keys, value, addOpts, cb) {\n  var i = 0;\n\n  const search = () => {\n    log.silly('reg-search', 'looking for %j in %j', value, keys[i]);\n    regGetValue(keys[i], value, addOpts, (err, res) => {\n      ++i;\n\n      if (err && i < keys.length) {\n        return search();\n      }\n\n      cb(err, res);\n    });\n  };\n\n  search();\n}\n\nmodule.exports = {\n  logWithPrefix: logWithPrefix,\n  regGetValue: regGetValue,\n  regSearchKeys: regSearchKeys\n};","map":{"version":3,"sources":["/home/n/React/loginpagedemo/frontend/node_modules/node-gyp/lib/util.js"],"names":["log","require","execFile","path","logWithPrefix","prefix","setPrefix","logFunction","args","apply","silly","verbose","info","warn","error","regGetValue","key","value","addOpts","cb","outReValue","replace","outRe","RegExp","reg","join","process","env","SystemRoot","regArgs","concat","child","encoding","err","stdout","stderr","trim","stack","result","exec","Error","stdin","end","regSearchKeys","keys","i","search","res","length","module","exports"],"mappings":"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","sourcesContent":["'use strict'\n\nconst log = require('npmlog')\nconst execFile = require('child_process').execFile\nconst path = require('path')\n\nfunction logWithPrefix (log, prefix) {\n  function setPrefix (logFunction) {\n    return (...args) => logFunction.apply(null, [ prefix, ...args ]) // eslint-disable-line\n  }\n  return {\n    silly: setPrefix(log.silly),\n    verbose: setPrefix(log.verbose),\n    info: setPrefix(log.info),\n    warn: setPrefix(log.warn),\n    error: setPrefix(log.error)\n  }\n}\n\nfunction regGetValue (key, value, addOpts, cb) {\n  const outReValue = value.replace(/\\W/g, '.')\n  const outRe = new RegExp(`^\\\\s+${outReValue}\\\\s+REG_\\\\w+\\\\s+(\\\\S.*)$`, 'im')\n  const reg = path.join(process.env.SystemRoot, 'System32', 'reg.exe')\n  const regArgs = ['query', key, '/v', value].concat(addOpts)\n\n  log.silly('reg', 'running', reg, regArgs)\n  const child = execFile(reg, regArgs, { encoding: 'utf8' },\n    function (err, stdout, stderr) {\n      log.silly('reg', 'reg.exe stdout = %j', stdout)\n      if (err || stderr.trim() !== '') {\n        log.silly('reg', 'reg.exe err = %j', err && (err.stack || err))\n        log.silly('reg', 'reg.exe stderr = %j', stderr)\n        return cb(err, stderr)\n      }\n\n      const result = outRe.exec(stdout)\n      if (!result) {\n        log.silly('reg', 'error parsing stdout')\n        return cb(new Error('Could not parse output of reg.exe'))\n      }\n      log.silly('reg', 'found: %j', result[1])\n      cb(null, result[1])\n    })\n  child.stdin.end()\n}\n\nfunction regSearchKeys (keys, value, addOpts, cb) {\n  var i = 0\n  const search = () => {\n    log.silly('reg-search', 'looking for %j in %j', value, keys[i])\n    regGetValue(keys[i], value, addOpts, (err, res) => {\n      ++i\n      if (err && i < keys.length) { return search() }\n      cb(err, res)\n    })\n  }\n  search()\n}\n\nmodule.exports = {\n  logWithPrefix: logWithPrefix,\n  regGetValue: regGetValue,\n  regSearchKeys: regSearchKeys\n}\n"]},"metadata":{},"sourceType":"script"}